

第1章 <br/> 引 言
=============

**本书的目标**是**帮助读者最有效地使用Java程序设计语言及其基本类库**：
java.lang、java.util，在某种程度上还包括java.util.concurrent和java.io。

本书共包含78个条目，每个条目讨论一条规则。
**这些规则反映了最有经验的优秀程序员在实践中常用的一些有益做法。**
本书以一种比较自由的方式将这些条目组织成10章，每一章都涉及软件设计的一个主要方面。
本书并不一定要按部就班地从头读到尾，因为每个条目都有一定程度的独立性。
这些条目相互之间交叉引用，因此你可以很容易地**在书中找到自己需要的内容**。

Java 5(发行版本1.5)中增加了许多新特性。本书中大多数条目都以一定的方式用到了这些特性。
表1-1列出了这些特性所在的主要章节或条目。

###### 表1-1 新增特性所在章节或条目

| 特性 | 所在章节或条目 | 特性 | 所在章节或条目 |
| :-- | :------------ | :-- | :------------ |
| 泛型 | 第5章        | 自动装箱 | 第40、49条 |
| 枚举 | 第30~34条    | varargs | 第42条     |
| 注解 | 第35~37条    | 静态导入 | 第19条     |
| for-each循环 | 第46条 | java.util.concurrent | 第68、69条 |

大多数条目都通过程序示例进行说明。
**本书一个突出的特点是，包含了许多代码示例，这些例子说明了许多设计模式(Design Pattern)和习惯用法(Idiom)。**
当需要参考设计模式领域的标准参考书[Gamma 95]时，还为这些设计模式和习惯用法提供了交叉引用。

许多条目都包含有一个或多个应该在实践中避免的程序示例。
像这样的例子，有时候也叫做"反模式(Antipattern)"，在注释中清楚地标注为"// Never do this!"。
对于每种情况，条目中都解释了**为什么此例不好，并提出了另外的解决方法。**

`本书并不是针对初学者的：本书假设读者已经熟悉Java程序设计语言。`
如果你还没有做到，**请考虑先参阅一本很好的Java入门书籍[Arnold05，Sestoft05]**。
**本书的目标**是**适用于任何具有实际Java工作经验的程序员，对于高级程序员，也应该能够提供一些发人深思的东西。**

本书中大多数规则都源于**少数几条基本的原则**。
**清晰性和简洁性最为重要**：模块的用户永远也不应该被模块的行为所迷惑(那样就不清晰了)；
模块要尽可能小，但又不能太小(本书中使用的术语*模块(Module)*，是指任何可重用的软件组件，从单个方法到包含多个包的复杂系统，都可以是一个模块)。
**代码应该被重用，而不是被拷贝。模块之间的依赖性应该尽可能地降到最小。
错误应该尽早被检测出来，最好是在编译时刻。**

虽然本书中的规则不会百分之百地适用于任何时刻和任何场合，但是，它们确实体现了绝大多数情况下的**最佳程序设计实践**。
你不应该盲目地遵从这些规则，但是，你应该只在偶尔的情况下，有了充分理由之后才去打破这些规则。
同大多数学科一样，**学习编程艺术首先要学会基本的规则，然后才能知道什么时候可以打破这些规则。**

**本书大部分内容**都不是讨论性能的，而**是关心如何编写出清晰、正确、可用、健壮、灵活和可维护的程序。**
如果你能够做到这一点的话，那么要想获得所需要的性能往往就相对比较简单了(见第55条)。

讨论Java程序设计语言及其类库特性的时候，有时候必须要指明具体的发行版本。

尽管这些例子都很完整，但是它们**注重可读性**更甚于注重完整性。
它们直接使用了java.util和java.io包中的类。

在本书的Web站点：[http://java.sun.com/docs/books/effective](http://java.sun.com/docs/books/effective)，
提供了每个示例的完整版本，你可以直接编译和运行这些示例。

本书采用的大部分技术**术语**都与《The Java Language Specification, Third Edition》[JLS]相同。
`有一些术语则值得特别提出来`。
Java语言支持四种类型：_接口(interface)、类(class)、数组(array)和基本类型(primitive)_。
前三种类型通常被称为*引用类型(reference type)*，类实例和数组是*对象(object)*，而基本类型的值则不是对象。
类的成员(member)由它的*域(field)、方法(method)*、成员类和成员接口组成。
_方法的签名_(signature)由它的名称和所有参数类型组成，签名不包括它的返回类型。

本书也使用了一些与《The Java Language Specification》不同的术语。
与《The Java Language Specification》不同的是，本书用术语"继承(inheritance)"作为"子类化"的同义词。
本书不再使用"接口继承"这种说法，而是简单地说，一个类实现(implement)了一个接口，或者一个接口扩展(extend)了另一个接口。
为了描述"在没有指定访问级别的情况下所使用的访问级别"，本书使用了描述性的术语"包级私有(package-private)"，
而不是如[JLS,6.6.1]中所使用的技术性术语"缺省访问(default access)级别"。

*类、接口、构造器、成员*以及序列化形式被统称为*API元素(API element)*。
导出的API由所有可在定义该API的包之外访问的API元素组成。
Javadoc工具类在默认操作模式下也正是为这些元素生成文档，这绝非偶然。
不严格地讲，一个包的导出的API是由该包中的每个公有(public)类或接口中所有公有的或受保护的(protected)成员和构造器组成。

